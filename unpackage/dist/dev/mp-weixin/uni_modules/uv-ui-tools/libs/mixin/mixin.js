"use strict";const o=require("../../../../common/vendor.js"),a=require("../function/index.js"),u=require("../function/test.js"),c=require("../util/route.js"),h=require("../function/debounce.js"),l=require("../function/throttle.js"),p={props:{customStyle:{type:[Object,String],default:()=>({})},customClass:{type:String,default:""},url:{type:String,default:""},linkType:{type:String,default:"navigateTo"}},data(){return{}},onLoad(){this.$uv.getRect=this.$uvGetRect},created(){this.$uv.getRect=this.$uvGetRect},computed:{$uv(){var t,e,i;return{...a.index,test:u.test,route:c.route,debounce:h.debounce,throttle:l.throttle,unit:(i=(e=(t=o.index)==null?void 0:t.$uv)==null?void 0:e.config)==null?void 0:i.unit}},bem(){return function(t,e,i){const n=`uv-${t}--`,r={};return e&&e.map(s=>{r[n+this[s]]=!0}),i&&i.map(s=>{this[s]?r[n+s]=this[s]:delete r[n+s]}),Object.keys(r)}}},methods:{openPage(t="url"){const e=this[t];e&&o.index[this.linkType]({url:e})},$uvGetRect(t,e){return new Promise(i=>{o.index.createSelectorQuery().in(this)[e?"selectAll":"select"](t).boundingClientRect(n=>{e&&Array.isArray(n)&&n.length&&i(n),!e&&n&&i(n)}).exec()})},getParentData(t=""){this.parent||(this.parent={}),this.parent=this.$uv.$parent.call(this,t),this.parent.children&&this.parent.children.indexOf(this)===-1&&this.parent.children.push(this),this.parent&&this.parentData&&Object.keys(this.parentData).map(e=>{this.parentData[e]=this.parent[e]})},preventEvent(t){t&&typeof t.stopPropagation=="function"&&t.stopPropagation()},noop(t){this.preventEvent(t)}},onReachBottom(){o.index.$emit("uvOnReachBottom")},beforeDestroy(){if(this.parent&&u.array(this.parent.children)){const t=this.parent.children;t.map((e,i)=>{e===this&&t.splice(i,1)})}},unmounted(){if(this.parent&&u.array(this.parent.children)){const t=this.parent.children;t.map((e,i)=>{e===this&&t.splice(i,1)})}}};exports.mixin=p;
